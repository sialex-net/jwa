pre-commit:
  parallel: true
  jobs:
    - name: clean
      group:
        piped: true
        jobs:
          - run: bun eslint --fix --cache --cache-location ./node_modules/.tmp/eslintcache {staged_files}
            stage_fixed: true
          - run: bun biome check --write --no-errors-on-unmatched {staged_files}
            stage_fixed: true
    - name: typecheck
      run: bun tsc -b
    - name: knip
      run: bun knip
    - name: test
      run: pnpm test:ci
